--------------------------------------------------------
--  File created - szombat-április-06-2024   
--------------------------------------------------------
DROP TABLE "WEBSHOP"."ORDERS" cascade constraints;
DROP TABLE "WEBSHOP"."USERS" cascade constraints;
DROP TABLE "WEBSHOP"."ORDERS" cascade constraints;
--------------------------------------------------------
--  DDL for Table ORDERS
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."ORDERS" 
   (	"ORDERID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"TOTALAMOUNT" NUMBER(10,2), 
	"PAYMENTMETHOD" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."USERS" 
   (	"USERID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(255 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"PHONENUMBER" VARCHAR2(20 BYTE), 
	"ISADMIN" CHAR(1 BYTE), 
	"PASSWORDHASH" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ORDERS
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."ORDERS" 
   (	"ORDERID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER, 
	"TOTALAMOUNT" NUMBER(10,2), 
	"PAYMENTMETHOD" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into WEBSHOP.ORDERS
SET DEFINE OFF;
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('1','1','500','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('2','2','1200,5','PayPal');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('3','3','750,99','Debit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('4','4','300','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('5','5','1999,99','Bank Transfer');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('6','6','450','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('7','7','99,99','PayPal');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('8','8','850,75','Debit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('9','9','220','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('10','10','599,99','Bank Transfer');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('11','11','320','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('12','12','1000','PayPal');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('13','13','780','Debit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('14','14','450,5','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('15','15','1300,99','Bank Transfer');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('16','16','550','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('17','17','80,99','PayPal');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('18','18','900','Debit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('19','19','250','Credit Card');
Insert into WEBSHOP.ORDERS (ORDERID,USERID,TOTALAMOUNT,PAYMENTMETHOD) values ('20','20','650,49','Bank Transfer');
--------------------------------------------------------
--  DDL for Index SYS_C007368
--------------------------------------------------------

  CREATE UNIQUE INDEX "WEBSHOP"."SYS_C007368" ON "WEBSHOP"."ORDERS" ("ORDERID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table ORDERS
--------------------------------------------------------

  ALTER TABLE "WEBSHOP"."ORDERS" MODIFY ("ORDERID" NOT NULL ENABLE);
  ALTER TABLE "WEBSHOP"."ORDERS" ADD PRIMARY KEY ("ORDERID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ORDERS
--------------------------------------------------------

  ALTER TABLE "WEBSHOP"."ORDERS" ADD CONSTRAINT "FK_ORDERS_USERS" FOREIGN KEY ("USERID")
	  REFERENCES "WEBSHOP"."USERS" ("USERID") ON DELETE CASCADE ENABLE;
