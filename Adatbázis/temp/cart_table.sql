--------------------------------------------------------
--  File created - szombat-április-06-2024   
--------------------------------------------------------
DROP TABLE "WEBSHOP"."CART" cascade constraints;
DROP TABLE "WEBSHOP"."USERS" cascade constraints;
DROP TABLE "WEBSHOP"."CART" cascade constraints;
--------------------------------------------------------
--  DDL for Table CART
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."CART" 
   (	"CARTID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."USERS" 
   (	"USERID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"NAME" VARCHAR2(255 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"PHONENUMBER" VARCHAR2(20 BYTE), 
	"ISADMIN" CHAR(1 BYTE), 
	"PASSWORDHASH" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CART
--------------------------------------------------------

  CREATE TABLE "WEBSHOP"."CART" 
   (	"CARTID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"USERID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into WEBSHOP.CART
SET DEFINE OFF;
Insert into WEBSHOP.CART (CARTID,USERID) values ('1','1');
Insert into WEBSHOP.CART (CARTID,USERID) values ('2','2');
Insert into WEBSHOP.CART (CARTID,USERID) values ('3','3');
Insert into WEBSHOP.CART (CARTID,USERID) values ('4','4');
Insert into WEBSHOP.CART (CARTID,USERID) values ('5','5');
Insert into WEBSHOP.CART (CARTID,USERID) values ('6','6');
Insert into WEBSHOP.CART (CARTID,USERID) values ('7','7');
Insert into WEBSHOP.CART (CARTID,USERID) values ('8','8');
Insert into WEBSHOP.CART (CARTID,USERID) values ('9','9');
Insert into WEBSHOP.CART (CARTID,USERID) values ('10','10');
Insert into WEBSHOP.CART (CARTID,USERID) values ('11','11');
Insert into WEBSHOP.CART (CARTID,USERID) values ('12','12');
Insert into WEBSHOP.CART (CARTID,USERID) values ('13','13');
Insert into WEBSHOP.CART (CARTID,USERID) values ('14','14');
Insert into WEBSHOP.CART (CARTID,USERID) values ('15','15');
Insert into WEBSHOP.CART (CARTID,USERID) values ('16','16');
Insert into WEBSHOP.CART (CARTID,USERID) values ('17','17');
Insert into WEBSHOP.CART (CARTID,USERID) values ('18','18');
Insert into WEBSHOP.CART (CARTID,USERID) values ('19','19');
Insert into WEBSHOP.CART (CARTID,USERID) values ('20','20');
--------------------------------------------------------
--  DDL for Index SYS_C007361
--------------------------------------------------------

  CREATE UNIQUE INDEX "WEBSHOP"."SYS_C007361" ON "WEBSHOP"."CART" ("CARTID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table CART
--------------------------------------------------------

  ALTER TABLE "WEBSHOP"."CART" MODIFY ("CARTID" NOT NULL ENABLE);
  ALTER TABLE "WEBSHOP"."CART" ADD PRIMARY KEY ("CARTID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CART
--------------------------------------------------------

  ALTER TABLE "WEBSHOP"."CART" ADD CONSTRAINT "FK_CART_USERS" FOREIGN KEY ("USERID")
	  REFERENCES "WEBSHOP"."USERS" ("USERID") ON DELETE CASCADE ENABLE;
